---
title: "Next.js setup guide"
sidebarTitle: "Next.js"
description: "This guide will show you how to setup Trigger.dev in your existing Next.js project, test an example task, and view the run."
icon: "N"
---

import Prerequisites from '/snippets/framework-prerequisites.mdx';
import CliInitStep from '/snippets/step-cli-init.mdx';
import CliDevStep from '/snippets/step-cli-dev.mdx';
import CliRunTestStep from '/snippets/step-run-test.mdx';
import CliViewRunStep from '/snippets/step-view-run.mdx';
import UsefulNextSteps from '/snippets/useful-next-steps.mdx';

<Note>This guide can be followed for both App and Pages router as well as Server Actions.</Note>

<Prerequisites framework="Next.js" />

## Initial setup

<Steps>
    <CliInitStep />
    <CliDevStep />
    <CliRunTestStep />
    <CliViewRunStep />
</Steps>

## Triggering your task in Next.js

Here are the steps to trigger your task in the Next.js App and Pages router and Server Actions:

<Tabs>

  <Tab title="Pages Router">
    ```ts
    // Next.js API route support: https://nextjs.org/docs/api-routes/introduction
    import { helloWorldTask } from "@/trigger/example";
    import type { NextApiRequest, NextApiResponse } from "next";

    export default async function handler(
    req: NextApiRequest,
    res: NextApiResponse<{ id: string }>
    ) {
    const handle = await helloWorldTask.trigger("John Doe");

    res.status(200).json(handle);
    }
    ```
  </Tab>

  <Tab title="App Router">
    ‚úåÔ∏è Here's content that's only inside the second Tab.
  </Tab>

  <Tab title="Server Actions">
    üí™ Here's content that's only inside the third Tab.
  </Tab>

</Tabs>

## Deploying your task in Next.js

# Todos

- Edge runtime triggering `tasks.trigger<>("my-task, {});`
- Pages directory triggering
- App directory triggering
- How to update your UI using the run status. Use `runs.retrieve` with the handle

<UsefulNextSteps />
